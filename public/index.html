<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Device Checklist Dashboard</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="bg-light">


  <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px;">
  <span id="session-info"></span>
  <button onclick="logout()">Logout</button>
</div>
<script src="scripts/session.js"></script>
<script>getSessionInfo();</script>


  <div class="container py-5">
    <h1 class="mb-4 text-center">ðŸ“‹ Device Checklist System</h1>

    <div class="row g-4">

      <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
          <div class="card-body text-center">
            <h5 class="card-title">Manage Inventory</h5>
            <p class="card-text">Add, modify, or delete devices.</p>
            <a href="inventory.html" class="btn btn-primary">Go to Inventory</a>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
          <div class="card-body text-center">
            <h5 class="card-title">Create Templates</h5>
            <p class="card-text">Build device sets for quick checklists.</p>
            <a href="templates.html" class="btn btn-primary">Create Template</a>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
          <div class="card-body text-center">
            <h5 class="card-title">Start Checklist</h5>
            <p class="card-text">Run a device check using saved templates.</p>
            <a href="checklist.html" class="btn btn-success">Start Checklist</a>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
          <div class="card-body text-center">
            <h5 class="card-title">Checklist History</h5>
            <p class="card-text">View, export, or print past checklists.</p>
            <a href="history.html" class="btn btn-secondary">View History</a>
          </div>
        </div>
      </div>

         <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
          <div class="card-body text-center">
            <h5 class="card-title">Import</h5>
            <p class="card-text">Add Devices for Inventory through CSV.</p>
            <a href="upload.html" class="btn btn-secondary">View History</a>
          </div>
        </div>
      </div>

      <div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
        <div class="card-body text-center">
        <h5 class="card-title">Event Inventory</h5>
        <p class="card-text">Manage event-related equipment and inventory.</p>
        <a href="event_inventory.html" class="btn btn-dark">Open Event Inventory</a>
    </div>
  </div>
</div>

<div class="col-md-6 col-lg-4">
        <div class="card shadow-sm h-100">
        <div class="card-body text-center">
        <h5 class="card-title">Admin Panel</h5>
        <p class="card-text">Manage Users and other Admin Stuff.</p>
        <a href="admin.html" class="btn btn-warning d-none">Admin Panel</a>
    </div>
  </div>
</div>
    </div>
  </div>

<script>
  // Fetch session info
  fetch('/auth/session')
    .then(res => res.json())
    .then(data => {
      if (data.user && data.user.role === 'Admin') {
        document.getElementById('adminBtn').classList.remove('d-none');
      }
    })
    .catch(err => {
      console.error('Session check failed', err);
    });
</script>


</body>
</html>
